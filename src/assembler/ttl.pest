WHITESPACE = _{ (" " | "\t" | "\r" | "\n")+ }

ALPHAFIRST = @{ ASCII_ALPHA ~ ASCII_ALPHANUMERIC* }
ALPHATEXT = @{ ASCII_ALPHANUMERIC* }

identifier = @{ ALPHAFIRST }

reference = @{ identifier }
number = @{ ASCII_DIGIT+ }
string = { "\"" ~ (ALPHATEXT) ~ "\"" }
object = { "{" ~ (declaration)* ~ "}" }

meta = { reference | number | string }
metas = { "[" ~ meta* ~ "]" }
value = { (reference ~ metas?) | (number ~ metas?) | (string ~ metas?) | object }

declaration = {identifier ~ ":" ~ value }
integration = { ">>" ~ ("." | "/" | ALPHAFIRST | "_")+ ~ ("with" ~ declaration)* }


file = { SOI ~ value ~ EOI }